import{n as h,i as O,b as L,t as b,c as I,d as R,e as E,a as W,f as N}from"./index.bOkVZrAm.js";import{k as T,a as w,b as B,H as D,an as j,g as H}from"./swiper-vue.CkSI7WQq.js";function g(o){var n;const a=E(o);return(n=a==null?void 0:a.$el)!=null?n:a}const S=I?window:void 0,k=I?window.navigator:void 0;function A(...o){let n,a,e,i;if(typeof o[0]=="string"||Array.isArray(o[0])?([a,e,i]=o,n=S):[n,a,e,i]=o,!n)return h;Array.isArray(a)||(a=[a]),Array.isArray(e)||(e=[e]);const r=[],c=()=>{r.forEach(l=>l()),r.length=0},u=(l,p,t,s)=>(l.addEventListener(p,t,s),()=>l.removeEventListener(p,t,s)),d=B(()=>[g(n),E(i)],([l,p])=>{if(c(),!l)return;const t=R(p)?{...p}:p;r.push(...a.flatMap(s=>e.map(v=>u(l,s,v,t))))},{immediate:!0,flush:"post"}),m=()=>{d(),c()};return b(m),m}let q=!1;function J(o,n,a={}){const{window:e=S,ignore:i=[],capture:r=!0,detectIframe:c=!1}=a;if(!e)return h;O&&!q&&(q=!0,Array.from(e.document.body.children).forEach(t=>t.addEventListener("click",h)),e.document.documentElement.addEventListener("click",h));let u=!0;const d=t=>i.some(s=>{if(typeof s=="string")return Array.from(e.document.querySelectorAll(s)).some(v=>v===t.target||t.composedPath().includes(v));{const v=g(s);return v&&(t.target===v||t.composedPath().includes(v))}}),l=[A(e,"click",t=>{const s=g(o);if(!(!s||s===t.target||t.composedPath().includes(s))){if(t.detail===0&&(u=!d(t)),!u){u=!0;return}n(t)}},{passive:!0,capture:r}),A(e,"pointerdown",t=>{const s=g(o);u=!d(t)&&!!(s&&!t.composedPath().includes(s))},{passive:!0}),c&&A(e,"blur",t=>{setTimeout(()=>{var s;const v=g(o);((s=e.document.activeElement)==null?void 0:s.tagName)==="IFRAME"&&!(v!=null&&v.contains(e.document.activeElement))&&n(t)},0)})].filter(Boolean);return()=>l.forEach(t=>t())}function V(){const o=w(!1),n=H();return n&&D(()=>{o.value=!0},n),o}function M(o){const n=V();return T(()=>(n.value,!!o()))}function $(o,n={}){const{immediate:a=!0,fpsLimit:e=void 0,window:i=S}=n,r=w(!1),c=e?1e3/e:null;let u=0,d=null;function m(t){if(!r.value||!i)return;u||(u=t);const s=t-u;if(c&&s<c){d=i.requestAnimationFrame(m);return}u=t,o({delta:s,timestamp:t}),d=i.requestAnimationFrame(m)}function l(){!r.value&&i&&(r.value=!0,u=0,d=i.requestAnimationFrame(m))}function p(){r.value=!1,d!=null&&i&&(i.cancelAnimationFrame(d),d=null)}return a&&l(),b(p),{isActive:j(r),pause:p,resume:l}}function x(o,n={}){const{controls:a=!1,navigator:e=k}=n,i=M(()=>e&&"permissions"in e);let r;const c=typeof o=="string"?{name:o}:o,u=w(),d=()=>{r&&(u.value=r.state)},m=N(async()=>{if(i.value){if(!r)try{r=await e.permissions.query(c),A(r,"change",d),d()}catch{u.value="prompt"}return r}});return m(),a?{state:u,isSupported:i,query:m}:u}function K(o={}){const{navigator:n=k,read:a=!1,source:e,copiedDuring:i=1500,legacy:r=!1}=o,c=M(()=>n&&"clipboard"in n),u=x("clipboard-read"),d=x("clipboard-write"),m=T(()=>c.value||r),l=w(""),p=w(!1),t=L(()=>p.value=!1,i);function s(){c.value&&C(u.value)?n.clipboard.readText().then(f=>{l.value=f}):l.value=_()}m.value&&a&&A(["copy","cut"],s);async function v(f=E(e)){m.value&&f!=null&&(c.value&&C(d.value)?await n.clipboard.writeText(f):P(f),l.value=f,p.value=!0,t.start())}function P(f){const y=document.createElement("textarea");y.value=f??"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function _(){var f,y,F;return(F=(y=(f=document==null?void 0:document.getSelection)==null?void 0:f.call(document))==null?void 0:y.toString())!=null?F:""}function C(f){return f==="granted"||f==="prompt"}return{isSupported:m,text:l,copied:p,copy:v}}function Q(o={}){const{controls:n=!1,interval:a="requestAnimationFrame"}=o,e=w(new Date),i=()=>e.value=new Date,r=a==="requestAnimationFrame"?$(i,{immediate:!0}):W(i,a,{immediate:!0});return n?{now:e,...r}:e}function U(o,n,a){const{start:e}=L(r,n,{immediate:!1}),i=w(!1);async function r(){i.value&&(await o(),e())}function c(){i.value||(i.value=!0,r())}function u(){i.value=!1}return a!=null&&a.immediate&&c(),b(u),{isActive:i,pause:u,resume:c}}export{U as a,Q as b,J as o,K as u};
